"use strict";function config(a){function b(a,b){return a.all([b.getGradientStyles(),b.getLinearGradientDirections(),b.getRadialGradientPositions(),b.getRadialGradientSizes(),b.getGradientPresets()])}a.when("/gradient",{templateUrl:"views/gradients.html",controller:"gradients.GradientsCtrl",controllerAs:"gradVM",resolve:{gradientsData:b}}).when("/",{}).otherwise({redirectTo:"/gradient"}),b.$inject=["$q","stylesService"]}!function(){angular.injector(["ng"]).invoke(["$http",function(a){a.get("./resources/csstemplate").then(function(a){angular.module("gradientsApp").constant("config",{baseUrl:"http://eugenecanhelp-app1ica.rhcloud.com"}),angular.module("gradientsApp").constant("gradientCSSTemplate",a.data),angular.element(document).ready(function(){angular.bootstrap(document,["gradientsApp"])})})}])}(),angular.module("gradientsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","directives","gradient-directives"]).config(config),config.$inject=["$routeProvider"],function(){function a(a,b,c,d,e){function f(){l.styleString=e.getCss(l.data,l.gradient,l.gradientStops)}function g(){var a=l.gradientStops.length,b=l.gradientStops[a-1],c=l.gradientStops[a-2],d=(Number(b.location)+Number(c.location))/2;l.gradientStops.splice(a-1,0,{location:d,color:"#"+Math.floor(16777215*Math.random()).toString(16)})}function h(a,b){l.gradientStops.splice(b,1)}function i(a,b){c(function(){l.gradientStops[a].color=b},10)}function j(){var a=l.gradientStops;stylesService.createPreset({preset:a}).then(function(a){})}function k(b){angular.copy(b,l.gradientStops),a.$digest()}var l=this;l.gradientStops=[],l.addStop=g,l.removeStop=h,l.changeColorStop=i,l.createPreset=j,l.setSelectedPreset=k,l.data={},l.data.gradientStyles=d[0].data.gradientStyles,l.data.linearGradientDirections=d[1].data.linearGradientDirections,l.data.radialGradientPositions=d[2].data.radialGradientPositions,l.data.radialGradientSizes=d[3].data.radialGradientSizes,l.presetItems=d[4].data.presets,angular.copy(l.presetItems[0],l.gradientStops),l.gradient={},l.gradient.gradientStyle=l.data.gradientStyles[0].name,l.gradient.linearGradientDirection=l.data.linearGradientDirections[0].name,l.gradient.radialGradientPosition=l.data.radialGradientPositions[0].name,l.gradient.radialGradientSize=l.data.radialGradientSizes[0].name,a.$watchGroup(["gradVM.gradient.gradientStyle","gradVM.gradient.linearGradientDirection","gradVM.gradient.radialGradientPosition","gradVM.gradient.radialGradientSize"],function(){f()}),a.$watch("gradVM.gradientStops",function(){f()},!0)}angular.module("gradientsApp").controller("gradients.GradientsCtrl",a),a.$inject=["$scope","$q","$timeout","gradientsData","CalcCssString"]}(),function(){function a(a,b,c){function d(){b.sendMessage(g.message)}function e(){return a.path()}function f(b,d){function e(){$("html, body").stop().animate({scrollTop:$(d).offset().top},1e3)}if("/"===b)if(a.path()!==b)var f=c.$root.$on("$locationChangeSuccess",function(){e(),f()});else e();else d="#mainBodyContainer",e();a.path(b)}var g=this;g.message={},g.pageName=e,g.navigateToPath=f,g.onSendMessage=d,showAngularStats()}angular.module("gradientsApp").controller("gradients.MainController",a),a.$inject=["$location","CommonServices","$scope"]}(),function(){angular.module("directives",[])}(),function(){function a(){return{restrict:"E",replace:!0,templateUrl:"./directives/footer.template.html"}}angular.module("directives").directive("gradients.footer",a)}(),function(){function a(){return{restrict:"E",replace:!0,templateUrl:"./directives/header.template.html"}}angular.module("directives").directive("gradients.header",a)}(),function(){function a(){return{restrict:"E",transclude:!0,templateUrl:"./directives/panel.template.html",scope:{panelTitle:"@panelTitle"}}}angular.module("directives").directive("gradients.panel",a)}(),function(){function a(){return{templateUrl:"./directives/buttonbar.template.html",scope:{dataprovider:"=dataprovider",selectedItemChange:"&selectedItemChange"},link:["scope","elem",function(a,b){var c=b;a.selectedItemIndex=0,a.selectedItemChange(),a.itemClicked=function(b){$($(".btn",c)[a.selectedItemIndex]).removeClass("active"),a.selectedItemIndex=b,$($(".btn",c)[b]).addClass("active"),a.selectedItemChange()(a.dataprovider[b].name)}}]}}angular.module("directives").directive("gradients.buttonbar",a)}(),function(){function a(){return{link:b}}function b(a,b,c){var d=a.gradVM;b.colorpicker({color:c.colorPicker,component:"#colorStop"}).on("changeColor.colorpicker",function(a){var b=a.color.toHex();d.changeColorStop(c.index,b)}),c.$observe("colorPicker",function(a){b.colorpicker("setValue",a)}),a.$on("$destroy",function(){b.colorpicker("destroy")})}angular.module("directives").directive("colorPicker",a),b.$inject=["scope","elem","attrs"]}(),function(){angular.module("gradient-directives",["directives"])}(),function(){function a(){return{restrict:"E",controllerAs:"vm",bindToController:!0,controller:b,templateUrl:"./directives/gradients/options.template.html"}}function b(a){var b=this,c=a.gradVM;b.linearGradientTypeChanged=function(a){c.gradient.linearGradientDirection=a},b.radialGradientPositionChange=function(a){c.gradient.radialGradientPosition=a},b.radialGradientSizeChange=function(a){c.gradient.radialGradientSize=a}}angular.module("gradient-directives").directive("gradients.options",a),b.$inject=["$scope"]}(),function(){function a(){return{templateUrl:"./directives/gradients/preview.template.html",restrict:"E"}}angular.module("gradient-directives").directive("gradients.preview",a)}(),function(){function a(){return{templateUrl:"./directives/gradients/stops.template.html"}}angular.module("gradient-directives").directive("gradients.stops",a)}(),function(){function a(){return{templateUrl:"./directives/gradients/presets.template.html"}}angular.module("gradient-directives").directive("gradients.presets",a)}(),function(){function a(a){function b(b,c,d,e){e.styleStr=a.getCss(e.gradientStyles,e.gradientType,e.presetStyle),c.on("click",function(){e.onPresetChanged()(e.presetStyle)})}return b.$inject=["scope","elem","attr","ctrl"],{template:"<div class='preset' style='{{vm.styleStr}}'></div>",restrict:"E",controllerAs:"vm",bindToController:!0,controller:function(){},scope:{presetStyle:"=presetStyle",gradientStyles:"=gradientStyles",gradientType:"=gradientType",onPresetChanged:"&onPresetChanged"},link:b}}angular.module("gradient-directives").directive("gradients.preset",a),a.$inject=["CalcCssString"]}(),function(){function a(){return{templateUrl:"./directives/gradients/markup.template.html"}}angular.module("gradient-directives").directive("gradients.markup",a)}(),function(){function a(a,b){return{getGradientStyles:function(){return a.get(b.GRADIENT_STYLES)},getLinearGradientDirections:function(){return a.get(b.LINEAR_GRADIENT_DIRECTIONS)},getRadialGradientPositions:function(){return a.get(b.RADIAL_GRADIENT_POSITIONS)},getRadialGradientSizes:function(){return a.get(b.RADIAL_GRADIENT_SIZES)},getGradientPresets:function(){return a.get(b.GRADIENT_PRESETS)},getGradientCssTemplate:function(){return a.get(b.CSS_TEMPLATE)},createPreset:function(c){return a.put(b.GRADIENT_PRESETS_CREATE,c)}}}angular.module("gradientsApp").factory("stylesService",a),a.$inject=["$http","API"]}(),function(){function a(a){return{GRADIENT_STYLES:a.baseUrl+"/api/v1/gradientstyles",LINEAR_GRADIENT_DIRECTIONS:a.baseUrl+"/api/v1/lineardirections",RADIAL_GRADIENT_POSITIONS:a.baseUrl+"/api/v1/radialpositions",RADIAL_GRADIENT_SIZES:a.baseUrl+"/api/v1/radialgradientsizes",GRADIENT_PRESETS:a.baseUrl+"/api/v1/presets",GRADIENT_PRESETS_CREATE:a.baseUrl+"/api/v1/presets",CSS_TEMPLATE:"./resources/csstemplate",SEND_EMAIL:a.baseUrl+"/api/v1/email"}}angular.module("gradientsApp").factory("API",a),a.$inject=["config"]}(),function(){function a(a){function b(a,b,c){return("undefined"==typeof c||null==c)&&(c="value"),"undefined"==typeof b||null==b?"":b.filter(function(b,c){return b.name===a})[0][c]}var c="";angular.copy(a,c),this.getCss=function(c,d,e){var f="";switch(f=angular.copy(a,f),d.gradientStyle){case c.gradientStyles[0].name:f=f.replace(/%gradientType/g,c.gradientStyles[0].value),f=f.replace(/%w3cGradientStyle/g,d.linearGradientDirection);var g=b(d.linearGradientDirection,c.linearGradientDirections,"safariValue");f=f.replace(/%safariGradientStyle/g,g[0]+", "+g[1]),f=f.replace(/%gradientStyle/g,b(d.linearGradientDirection,c.linearGradientDirections));break;case c.gradientStyles[1].name:f=f.replace(/%gradientType/g,c.gradientStyles[1].value),f=f.replace(/%w3cGradientStyle/g,"ellipse "+d.radialGradientSize+" at "+d.radialGradientPosition),f=f.replace(/%gradientStyle/g,b(d.radialGradientPosition,c.radialGradientPositions)+", ellipse "+b(d.radialGradientSize,c.radialGradientSizes));var g=b(d.radialGradientPosition,c.radialGradientPositions,"safariValue");f=f.replace(/%safariGradientStyle/g,g[0]+", "+g[1]);break;default:case c.gradientStyles[0].name:f=f.replace(/%gradientType/g,c.gradientStyles[0].value),f=f.replace(/%gradientStyle/g,c.linearGradientDirections[0].value)}if(f=f.replace(/%safariGradientType/g,d.gradientStyle.toLowerCase()),e&&e.length>0){var h=e.map(function(a){return a.color+" "+a.location+"%"}).reduce(function(a,b){return a+", "+b});f=f.replace(/%gradientStops/g,h),h=e.map(function(a){return"color-stop("+a.location+", "+a.color+")"}).reduce(function(a,b){return a+", "+b}),f=f.replace(/%safariGradientStops/g,h)}return f}}angular.module("gradientsApp").service("CalcCssString",a),a.$inject=["gradientCSSTemplate"]}(),function(){function a(a,b){return{sendMessage:function(c){return a.post(b.SEND_EMAIL,c)}}}angular.module("gradientsApp").factory("CommonServices",a),a.$inject=["$http","API"]}();